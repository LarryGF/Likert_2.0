Vue.use(VueMaterial.default)

const app = new Vue({
	el: "#app",
	data: {
		step:'',
		users:'',
		last_id:0,
		selected:[],
		select:false,
		table_obj:[],
		table_crit:[],
		name:'',
		category:'',
		crit1:'',
		crit2:'',
		crit3:'',
		crit4:'',
		crit5:'',
		likert_table_obj:[],
		likert_table_crit:[],


	},
	methods: {
		delitems: async function (selected,last_id) {
			let result = await eel.delitems(selected,last_id)();
			switch (result[0]){
				case 'objective':
					this.table_obj = result[1];
					break;
				case 'criterion':
					this.table_crit = result[1];
					break;
			}
			this.selected = [];
			
		},
		onSelect (items) {
        this.selected = items
      	},
		
		load: async function () {
			let tables = await eel.load()();
			console.log(tables)
			this.table_obj = tables[0];
			this.table_crit = tables[1];
			this.last_id = tables[2];
		},
		save: function (select,dic,last_id) {
			switch(select){
				case 'Criterion':
					this.last_id = last_id+1;
					dic.id = this.last_id;
					this.table_crit.push(dic);
					break;

				case 'Objective':
					this.last_id = last_id+1;
					dic.id = this.last_id;
					this.table_obj.push(dic);
					break;

			}
		},

		save_to_file: async function (table,list,last_id) {
			console.log('aqui')
			let result = await eel.save(table,list,last_id)();
		},

		check: async function (last_id) {
			let result = await eel.check(this.users,this.table_obj,this.table_crit,last_id)();
			console.log(result[2])
			switch(result[2]){
				case true:
					app.table_obj = result[0];
					app.table_crit = result[1]
					break;
				case false:
					console.log('good');
					break;
			}

		}


	}
})







		
		
		
		
		
		
		